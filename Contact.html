<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contacts — Call List</title>
    <style>
      :root{--bg:#f7f9fc;--card:#fff;--muted:#6b7280;--accent:#2563eb}
      *{box-sizing:border-box}
  body{font-family:Segoe UI,Roboto,Arial,sans-serif;margin:0;background:var(--bg);color:#111}
  .container{max-width:820px;margin:32px auto;padding:20px}
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
  h1{font-size:1.4rem;margin:0}
  .sub{color:var(--muted);font-size:0.95rem}
  .card{background:var(--card);padding:16px;border-radius:10px;box-shadow:0 6px 20px rgba(16,24,40,0.06)}
  form{display:flex;gap:8px;flex-wrap:wrap}
  input[type=text]{flex:1 1 220px;padding:10px;border:1px solid #e6e9ef;border-radius:8px}
  .btn{background:var(--accent);color:white;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}
  .btn.secondary{background:#ef4444}
  .list{margin-top:14px}
  .contact{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:8px;border:1px solid #eef2ff;background:linear-gradient(180deg,#fff,#fbfdff);margin-bottom:8px}
  .contact .meta{display:flex;gap:12px;align-items:center}
  .avatar{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,#60a5fa,#7c3aed);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600}
  .name{font-weight:600}
  .phone{color:var(--muted);font-size:0.95rem}
  .empty{color:var(--muted);padding:24px;text-align:center}
  .actions{display:flex;gap:8px}
  .small{padding:6px 8px;font-size:0.9rem}
  footer{margin-top:14px;color:var(--muted);font-size:0.9rem}
  <!doctype html>
  <html lang="en">
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>Contacts — Call List</title>
      <style>
        :root{--bg:#f7f9fc;--card:#fff;--muted:#6b7280;--accent:#2563eb}
        *{box-sizing:border-box}
        body{font-family:Segoe UI,Roboto,Arial,sans-serif;margin:0;background:var(--bg);color:#111}
        .container{max-width:820px;margin:32px auto;padding:20px}
        header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
        h1{font-size:1.4rem;margin:0}
        .sub{color:var(--muted);font-size:0.95rem}
        .card{background:var(--card);padding:16px;border-radius:10px;box-shadow:0 6px 20px rgba(16,24,40,0.06)}
        form{display:flex;gap:8px;flex-wrap:wrap}
        input[type=text]{flex:1 1 220px;padding:10px;border:1px solid #e6e9ef;border-radius:8px}
        .btn{background:var(--accent);color:white;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}
        .btn.secondary{background:#ef4444}
        .list{margin-top:14px}
        .contact{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:8px;border:1px solid #eef2ff;background:linear-gradient(180deg,#fff,#fbfdff);margin-bottom:8px}
        .contact .meta{display:flex;gap:12px;align-items:center}
        .avatar{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,#60a5fa,#7c3aed);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600}
        .name{font-weight:600}
        .phone{color:var(--muted);font-size:0.95rem}
        .empty{color:var(--muted);padding:24px;text-align:center}
        .actions{display:flex;gap:8px}
        .small{padding:6px 8px;font-size:0.9rem}
        footer{margin-top:14px;color:var(--muted);font-size:0.9rem}
        .edit-input{display:block;padding:8px;border-radius:6px;border:1px solid #e6e9ef;margin-bottom:6px;width:220px}
        @media (max-width:520px){form{flex-direction:column} .actions{flex-wrap:wrap}}
      </style>
    </head>
    <body>
      <div class="container">
        <header>
          <div>
            <h1>Call List</h1>
            <div class="sub">Add people you need to call and remove them after contacting.</div>
          </div>
        </header>

        <div class="card">
          <form id="addForm" onsubmit="return false" aria-label="Add contact form">
            <input id="nameInput" type="text" placeholder="Full name (e.g. Jane Doe)" required />
            <input id="phoneInput" type="text" placeholder="Phone number (digits, +, -, spaces)" required />
            <button id="addBtn" class="btn" type="submit">Add</button>
            <button id="clearAllBtn" class="btn secondary small" type="button">Clear All</button>
          </form>

          <div class="list" id="contactsList" aria-live="polite">
            <!-- contacts rendered here -->
          </div>

          <footer>
            Tip: Click the red "Delete" button after you've contacted someone. Contacts persist in your browser using localStorage.
          </footer>
        </div>
      </div>

      <script>
        // Simple contact manager: add, edit, delete, persist to localStorage
        const STORAGE_KEY = 'call_list_contacts_v1'
        let editingIndex = -1

        // Elements
        const nameInput = document.getElementById('nameInput')
        const phoneInput = document.getElementById('phoneInput')
        const addForm = document.getElementById('addForm')
        const contactsList = document.getElementById('contactsList')
        const addBtn = document.getElementById('addBtn')
        const clearAllBtn = document.getElementById('clearAllBtn')

        // Basic validation helpers
        function normalizePhone(p){ return (p||'').trim() }
        function isValidPhone(p){ p = normalizePhone(p); return p.length >= 4 }
        function isValidName(n){ return n && n.trim().length >= 2 }

        function loadContacts(){
          try{
            const raw = localStorage.getItem(STORAGE_KEY)
            if(!raw) return []
            return JSON.parse(raw)
          }catch(e){console.error('Failed to load contacts',e); return []}
        }

        function saveContacts(list){
          localStorage.setItem(STORAGE_KEY, JSON.stringify(list))
        }

        // Helpers
        function avatarText(name){
          if(!name) return '?'
          const parts = name.trim().split(/\s+/)
          if(parts.length === 1) return parts[0].slice(0,2).toUpperCase()
          return (parts[0][0] + parts[parts.length-1][0]).toUpperCase()
        }

        // Edit flow
        function startEdit(index){ editingIndex = index; render() }
        function cancelEdit(){ editingIndex = -1; render() }
        function saveEdit(index, newName, newPhone){
          if(!isValidName(newName)) { alert('Please enter a valid name (2+ characters).'); return }
          if(!isValidPhone(newPhone)) { alert('Please enter a valid phone number (at least 4 characters).'); return }
          const list = loadContacts()
          if(!list[index]) return
          list[index].name = newName
          list[index].phone = newPhone
          saveContacts(list)
          editingIndex = -1
          render()
        }

        // Render
        function render(){
          const contacts = loadContacts()
          contactsList.innerHTML = ''
          if(contacts.length === 0){
            contactsList.innerHTML = '<div class="empty">No contacts yet — add someone you need to call.</div>'
            return
          }

          contacts.forEach((c, idx) => {
            const el = document.createElement('div')
            el.className = 'contact'

            const meta = document.createElement('div')
            meta.className = 'meta'

            const av = document.createElement('div')
            av.className = 'avatar'
            av.textContent = avatarText(c.name)

            const info = document.createElement('div')

            if(editingIndex === idx){
              // inline edit inputs
              const nameInp = document.createElement('input')
              nameInp.className = 'edit-input'
              nameInp.type = 'text'
              nameInp.value = c.name
              const phoneInp = document.createElement('input')
              phoneInp.className = 'edit-input'
              phoneInp.type = 'text'
              phoneInp.value = c.phone
              info.appendChild(nameInp)
              info.appendChild(phoneInp)

              meta.appendChild(av)
              meta.appendChild(info)

              const actions = document.createElement('div')
              actions.className = 'actions'

              const saveBtn = document.createElement('button')
              saveBtn.className = 'btn small'
              saveBtn.textContent = 'Save'
              saveBtn.onclick = () => saveEdit(idx, nameInp.value.trim(), phoneInp.value.trim())

              const cancelBtn = document.createElement('button')
              cancelBtn.className = 'btn secondary small'
              cancelBtn.textContent = 'Cancel'
              cancelBtn.onclick = () => cancelEdit()

              actions.appendChild(saveBtn)
              actions.appendChild(cancelBtn)

              el.appendChild(meta)
              el.appendChild(actions)
              contactsList.appendChild(el)
              return
            }

            const nm = document.createElement('div')
            nm.className = 'name'
            nm.textContent = c.name
            const ph = document.createElement('div')
            ph.className = 'phone'
            ph.textContent = c.phone

            info.appendChild(nm)
            info.appendChild(ph)
            meta.appendChild(av)
            meta.appendChild(info)

            const actions = document.createElement('div')
            actions.className = 'actions'

            const callBtn = document.createElement('button')
            callBtn.className = 'btn small'
            callBtn.textContent = 'Call'
            callBtn.onclick = () => { window.location.href = 'tel:' + c.phone.replace(/[^+0-9]/g, '') }

            const editBtn = document.createElement('button')
            editBtn.className = 'btn small'
            editBtn.textContent = 'Edit'
            editBtn.onclick = () => startEdit(idx)

            const delBtn = document.createElement('button')
            delBtn.className = 'btn secondary small'
            delBtn.textContent = 'Delete'
            delBtn.onclick = () => {
              if(!confirm('Delete "' + c.name + '" from your call list?')) return
              const list = loadContacts()
              list.splice(idx,1)
              saveContacts(list)
              render()
            }

            actions.appendChild(callBtn)
            actions.appendChild(editBtn)
            actions.appendChild(delBtn)

            el.appendChild(meta)
            el.appendChild(actions)

            contactsList.appendChild(el)
          })
        }

        // Add contact
        addForm.addEventListener('submit', (ev) => {
          ev.preventDefault()
          const name = nameInput.value.trim()
          let phone = phoneInput.value.trim()
          if(!isValidName(name)){
            alert('Please enter a valid name (2+ characters).')
            return
          }
          if(!isValidPhone(phone)){
            alert('Please enter a valid phone number (at least 4 characters).')
            return
          }

          const contacts = loadContacts()
          contacts.unshift({name, phone, added: Date.now()})
          saveContacts(contacts)
          nameInput.value = ''
          phoneInput.value = ''
          nameInput.focus()
          render()
        })

        // Clear all with confirmation
        clearAllBtn.addEventListener('click', () => {
          if(!confirm('Remove all contacts from the call list? This cannot be undone.')) return
          localStorage.removeItem(STORAGE_KEY)
          editingIndex = -1
          render()
        })

        // Seed sample data on first run
        (function init(){
          const c = loadContacts()
          if(c.length === 0){
            const sample = [
              {name: 'Alice Johnson', phone: '+1 555-1234', added: Date.now()},
              {name: 'Bob Smith', phone: '+1 555-5678', added: Date.now()+1}
            ]
            saveContacts(sample)
          }
          render()
        })()
      </script>
    </body>
  </html>

                    contacts.forEach((c, idx) => {
                      const el = document.createElement('div')
                      el.className = 'contact'

                      const meta = document.createElement('div')
                      meta.className = 'meta'

                      const av = document.createElement('div')
                      av.className = 'avatar'
                      av.textContent = avatarText(c.name)

                      const info = document.createElement('div')
                      const nm = document.createElement('div')
                      nm.className = 'name'
                      nm.textContent = c.name
                      const ph = document.createElement('div')
                      ph.className = 'phone'
                      ph.textContent = c.phone

                      info.appendChild(nm)
                      info.appendChild(ph)
                      meta.appendChild(av)
                      meta.appendChild(info)

                      const actions = document.createElement('div')
                      actions.className = 'actions'

                      const callBtn = document.createElement('button')
                      callBtn.className = 'btn small'
                      callBtn.textContent = 'Call'
                      callBtn.onclick = () => {
                        // Attempt to open tel: on supported devices
                        window.location.href = 'tel:' + c.phone.replace(/[^+0-9]/g, '')
                      }

          const editBtn = document.createElement('button')
          editBtn.className = 'btn small'
          editBtn.textContent = 'Edit'
          editBtn.onclick = () => startEdit(idx)

                      const delBtn = document.createElement('button')
                      delBtn.className = 'btn secondary small'
                      delBtn.textContent = 'Delete'
                      delBtn.onclick = () => {
                        if(!confirm('Delete "' + c.name + '" from your call list?')) return
                        const list = loadContacts()
                        list.splice(idx,1)
                        saveContacts(list)
                        render()
                      }

                      actions.appendChild(callBtn)
          actions.appendChild(editBtn)
                      actions.appendChild(delBtn)

                      el.appendChild(meta)
                      el.appendChild(actions)

                      contactsList.appendChild(el)
                    })
                  }

                  // Add contact
                  addForm.addEventListener('submit', (ev) => {
                    ev.preventDefault()
                    const name = nameInput.value.trim()
                    let phone = phoneInput.value.trim()
                    if(!isValidName(name)){
                      alert('Please enter a valid name (2+ characters).')
                      return
                    }
                    if(!isValidPhone(phone)){
                      alert('Please enter a valid phone number (at least 4 characters).')
                      return
                    }

                    const contacts = loadContacts()
                    contacts.unshift({name, phone, added: Date.now()})
                    saveContacts(contacts)
                    nameInput.value = ''
                    phoneInput.value = ''
                    nameInput.focus()
                    render()
                  })

                  // Clear all with confirmation
                  clearAllBtn.addEventListener('click', () => {
                    if(!confirm('Remove all contacts from the call list? This cannot be undone.')) return
                    localStorage.removeItem(STORAGE_KEY)
                    render()
                  })

                  // Seed sample data on first run
                  (function init(){
                    const c = loadContacts()
                    if(c.length === 0){
                      const sample = [
                        {name: 'Alice Johnson', phone: '+1 555-1234', added: Date.now()},
                        {name: 'Bob Smith', phone: '+1 555-5678', added: Date.now()+1}
                      ]
                      saveContacts(sample)
                    }
                    render()
                  })()
                </script>
              </body>
            </html>